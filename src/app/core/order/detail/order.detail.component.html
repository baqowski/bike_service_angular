<div class="container-fluid">
  <ng-container *ngIf="order">
    <div class="card">
      <div class="card-header">

        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-3">
              <div class="input-group input-group-sm mb-2">
                <div class="input-group-prepend">
                  <label class="input-group-text">
                    <h6>Identyfikator zamówienia</h6>
                  </label>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.id}}"
                         aria-describedby="inputGoup-sizing-sm">
                </div>
              </div>
            </div>
            <div class="col-sm-3">
              <div class="input-group input-group-sm mb-3">
                <div class="input-group-prepend">
                  <label class="input-group-text">
                    <h6>Rodzai usługi</h6>
                  </label>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.orderServiceType}}"
                         aria-describedby="inputGoup-sizing-sm">
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="input-group input-group-sm mb-3" *ngIf="user.role.name !=='ROLE_USER'">
                <div class="input-group-prepend">
                  <label class="input-group-text">
                    <h6>Status zamówienia</h6>
                  </label>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.orderStatus}}"
                         aria-describedby="inputGoup-sizing-sm">
                  <select class="custom-select form-control"
                          [(ngModel)]="orderStatuses"
                          (ngModelChange)="onClickEmitValue($event)">
                    <option *ngFor="let item of orderStatuses"
                            [ngValue]="item">{{item}}
                    </option>
                  </select>
                </div>
              </div>

              <div class="input-group input-group-sm mb-3" *ngIf="user.role.name ==='ROLE_USER'">
                <div class="input-group-prepend">
                  <label class="input-group-text">
                    <h6>Status zamówienia</h6>
                  </label>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.orderStatus}}"
                         aria-describedby="inputGoup-sizing-sm">
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="card-body" *ngIf="order.orderServiceType !== 'REPAIR'">
        <div class="card">
          <div class="card-header">
            <h5>Produkty</h5>
          </div>
          <div class="card-body">
            <app-table *ngIf="order.products && order.products.length"
                       [data]="order.products"
                       [columns]="productDetailTableStructureColumns"
                       [isEnabledAction]="false">
            </app-table>

            <ng-container *ngIf="order.orderServiceType === 'RENT'">
              <p>Data zakończenia wypozycznia  {{order.loanTermination}}</p>
            </ng-container>
          </div>
        </div>
        <!-- widok 1 -->
        <div class="card mt-4">
          <div class="card-header">
            <h5>Adres dostawy i przesyłka</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-6">
                <div class="input-group input-group-sm mb-3">
                  <div class="input-group-prepend">
                    <label class="input-group-text">Ulica</label>
                  </div>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.deliveryOrder.deliveryAddress.street}}"
                         aria-describedby="inputGroup-sizing-sm">
                </div>

                <div class="input-group input-group-sm mb-3">
                  <div class="input-group-prepend">
                    <label class="input-group-text">Numer domu</label>
                  </div>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.deliveryOrder.deliveryAddress.houseNumber}}"
                         aria-describedby="inputGroup-sizing-sm">
                </div>

                <div class="input-group input-group-sm mb-3">
                  <div class="input-group-prepend">
                    <label class="input-group-text">Kod pocztowy</label>
                  </div>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.deliveryOrder.deliveryAddress.postalCode}}"
                         aria-describedby="inputGroup-sizing-sm">
                </div>

                <div class="input-group input-group-sm mb-3">
                  <div class="input-group-prepend">
                    <label class="input-group-text">Miasto</label>
                  </div>
                  <input type="text"
                         class="form-control"
                         aria-label="Small"
                         value="{{order.deliveryOrder.deliveryAddress.city}}"
                         aria-describedby="inputGroup-sizing-sm">
                </div>

                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text">Sposób dostawy</span>
                  </div>
                  <input type="text" class="form-control" value="{{order.deliveryOrder.delivery.type}}">
                </div>

              </div>
            </div>
          </div>
        </div>
        <!-- koniec widok 1 -->

        <!-- &lt;!&ndash; widok 2 &ndash;&gt;

         <div class="card mt-4">
           <div class="card-header">
             <h5>Adres dostawy i przesyłka</h5>
           </div>
           <div class="card-body">
             <div class="row">
               <div class="col-lg-6">
                 <div class="form-group row">
                   <label for="street" class="col-sm-4 col-form-label">Ulica</label>
                   <div class="col-sm-8">
                     <input type="text" readonly class="form-control-plaintext" id="street"
                            value="{{order.deliveryOrder.deliveryAddress.street}}">
                   </div>
                 </div>

                 <div class="form-group row">
                   <label for="house" class="col-sm-4 col-form-label">Numer domu</label>
                   <div class="col-sm-8">
                     <input type="text" readonly class="form-control-plaintext" id="house"
                            value="{{order.deliveryOrder.deliveryAddress.houseNumber}}">
                   </div>
                 </div>

                 <div class="form-group row">
                   <label for="postalCode" class="col-sm-4 col-form-label">Kod pocztowy</label>
                   <div class="col-sm-8">
                     <input type="text" readonly class="form-control-plaintext" id="postalCode"
                            value="{{order.deliveryOrder.deliveryAddress.postalCode}}">
                   </div>
                 </div>

                 <div class="form-group row">
                   <label for="city" class="col-sm-4 col-form-label">Miasto</label>
                   <div class="col-sm-8">
                     <input type="text" readonly class="form-control-plaintext" id="city"
                            value="{{order.deliveryOrder.deliveryAddress.postalCode}}">
                   </div>
                 </div>

                 <div class="input-group">
                   <div class="input-group-prepend">
                     <span class="input-group-text" id="">Sposób dostawy</span>
                   </div>
                   <input type="text" class="form-control" value="{{order.deliveryOrder.delivery.type}}">
                 </div>
               </div>
             </div>
           </div>
         </div>
       </div>-->
        <!-- koniec widok 2 -->

        <app-payment-detail [payment]="order.payment">

        </app-payment-detail>
      </div>

      <div class="card-body" *ngIf="order.orderServiceType === 'REPAIR'">
        <label for="description">Opis usterki</label>
        <textarea id="description"
                  type="text"
                  class="form-control"
                  [(ngModel)]="order.description">
          </textarea>
      </div>

      <div class="card-footer" *ngIf="user.role.name !== 'ROLE_USER'">
        <button class="btn btn-success w-100" (click)="onUpdate()">
          <span>Aktualizuj zmiany </span>
        </button>
      </div>
    </div>
  </ng-container>
</div>


