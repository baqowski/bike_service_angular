<div class="container-fluid">
  <div class="card">
    <div class="card-header">
      <p>Realizacja zamówienia </p>
    </div>
    <div class="card-body">
      <ng-container *ngIf="stepNumber === 1">
        <div class="card">
          <div class="card-header">
            Podsumowanie
          </div>
          <app-table *ngIf="order.products && order.products.length"
                     [data]="order.products"
                     [showActionButtons]="false">
          </app-table>
          <p>Kwota zamówienia {{order.amount}}</p>
        </div>
        <app-delivery [deliveries]="deliverySelectData"
                      [(deliveryForm)]="orderForm"
                      (deliveryFormChange)="onGetDeliveryCost()">
        </app-delivery>

        <app-address [(addressForm)]="orderForm"
                     (addressFormChange)="onGetClientAddress($event)">
        </app-address>
      </ng-container>

      <!--<ng-container *ngIf="stepNumber === 2">
        <app-payment-type
          [paymentTypes]="paymentTypes"
          [(paymentForm)]="orderForm">
        </app-payment-type>
      </ng-container>-->
    </div>
    <div class="card-footer">
      <div class="">
        {{'Całkowity koszt: ' + total}}
      </div>
      <div class="dropdown-divider"></div>
      <!-- <app-payu-widget [order]="order"></app-payu-widget>-->
      <button class="btn btn-success float-right w-25" *ngIf="stepNumber === 1" (click)="goToPayment(stepNumber)">
        Przejdź do płatności
      </button>
      <button class="btn btn-secondary float-left w-25" *ngIf="stepNumber === 2" (click)="backToSummary(stepNumber)">
        Wróć do realicazji i podsumowania
      </button>
      <ng-container *ngIf="stepNumber === 2">
        {{order.paymentType}}
        <button class="btn btn-success w-100 mt-2" *ngIf="order.paymentType !== 'PAYU'" (click)="create()"> Kupuję
        </button>
        <app-payu-widget *ngIf="order.paymentType === 'PAYU'"></app-payu-widget>
      </ng-container>
    </div>
  </div>
</div>
